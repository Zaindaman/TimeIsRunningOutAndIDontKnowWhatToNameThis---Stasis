[gd_scene load_steps=10 format=4 uid="uid://12whnuao70uj"]

[ext_resource type="TileSet" uid="uid://dch0p1c1hspwa" path="res://Assets/Tilemap.tres" id="1_58iae"]
[ext_resource type="PackedScene" uid="uid://78c38ipulmfu" path="res://Scenes/player.tscn" id="2_gwqor"]
[ext_resource type="PackedScene" uid="uid://buny7ajxygh3c" path="res://Scenes/LaserButton.tscn" id="3_jv4ki"]
[ext_resource type="PackedScene" uid="uid://8fp84xjwwcre" path="res://Scenes/ButtonActivatedDoor.tscn" id="4_58iae"]
[ext_resource type="PackedScene" uid="uid://cetyvsj3t1o4d" path="res://Scenes/laser.tscn" id="5_gwqor"]
[ext_resource type="PackedScene" uid="uid://b468i0i6ery7l" path="res://Scenes/bullet_spawner.tscn" id="5_mts5x"]
[ext_resource type="Script" uid="uid://c6fy6mlhua00m" path="res://Scripts/InversionFieldLogic.cs" id="6_gwqor"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7yid6"]
size = Vector2(20, 32.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jv4ki"]
size = Vector2(104, 143.5)

[node name="1" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
texture_filter = 1
tile_map_data = PackedByteArray("AAAIAAUAAQAGAAEAAAAJAAUAAQAGAAEAAAAVAAUAAQAGAAEAAAAWAAUAAQAGAAEAAAAhAAUAAQAGAAEAAAAiAAUAAQAGAAEAAAAKAAUAAQAGAAEAAAALAAUAAQAGAAEAAAAMAAUAAQAGAAEAAAANAAUAAQAGAAEAAAAOAAUAAQAGAAEAAAAPAAUAAQAGAAEAAAAQAAUAAQAGAAEAAAARAAUAAQAGAAEAAAASAAUAAQAGAAEAAAATAAUAAQAGAAEAAAAUAAUAAQAGAAEAAAAXAAUAAQAGAAEAAAAYAAUAAQAGAAEAAAAZAAUAAQAGAAEAAAAaAAUAAQAGAAEAAAAbAAUAAQAGAAEAAAAcAAUAAQAGAAEAAAAdAAUAAQAGAAEAAAAeAAUAAQAGAAEAAAAfAAUAAQAGAAEAAAAgAAUAAQAGAAEAAAAHAAUAAQADAAMAAAAHAAIAAQAEAAAAAAAHAAEAAQAGAAEAAAAHAAAAAQAGAAEAAAAHAP//AQAGAAEAAAAHAP7/AQAGAAEAAAAHAP3/AQAGAAEAAAAHAPz/AQAGAAEAAAAHAPv/AQAGAAEAAAAIAPv/AQAGAAEAAAAJAPv/AQAGAAEAAAAKAPv/AQAGAAEAAAALAPv/AQAGAAEAAAAMAPv/AQAGAAEAAAANAPv/AQAGAAEAAAAOAPv/AQAGAAEAAAAPAPv/AQAGAAEAAAAQAPv/AQAGAAEAAAARAPv/AQAGAAEAAAASAPv/AQAGAAEAAAATAPv/AQAGAAEAAAAUAPv/AQAGAAEAAAAVAPv/AQAGAAEAAAAWAPv/AQAGAAEAAAAXAPv/AQAGAAEAAAAjAAUAAQAGAAEAAAAjAAQAAQAGAAEAAAAjAAMAAQAGAAEAAAAjAAIAAQAGAAEAAAAjAAEAAQAGAAEAAAAjAAAAAQAGAAEAAAAjAP//AQAGAAEAAAAjAP7/AQAGAAEAAAAjAP3/AQAGAAEAAAAiAPv/AQAGAAEAAAAjAPv/AQAGAAEAAAAjAPz/AQAGAAEAAAAZAPv/AQAGAAEAAAAYAPv/AQAGAAEAAAAaAPv/AQAGAAEAAAAbAPv/AQAGAAEAAAAcAPv/AQAGAAEAAAAdAPv/AQAGAAEAAAAeAPv/AQAGAAEAAAAfAPv/AQAGAAEAAAAgAPv/AQAGAAEAAAAhAPv/AQAGAAEAAAAVAPz/AQAGAAEAAAAVAP3/AQAGAAEAAAAVAP7/AQAGAAEAAAAVAP//AQAGAAEAAAAVAAAAAQAGAAEAAAAVAAEAAQAGAAEAAAAVAAIAAQAGAAEAAAASAAAAAQACAAEAAAATAAAAAQAGAAAAAAAUAAAAAQAEAAAAAAAWAAEAAQADAAUAAAAZAAEAAQAEAAUAAAAXAAEAAQADAAUAAAAYAAEAAQADAAUAAAAZAAAAAQAEAAQAAAAZAP//AQAEAAQAAAAZAP7/AQAEAAQAAAAiAAAAAQAEAAAAAAAhAAAAAQACAAEAAAAfAAAAAQAEAAAAAAAdAAAAAQACAAEAAAAeAAAAAQAGAAAAAAAgAPz/AQAAAAMAADATAPz/AQAAAAMAADAXAPz/AQAGAAMAAAAYAPz/AQAGAAMAAAAZAPz/AQAGAAMAAAAaAPz/AQAGAAMAAAAbAPz/AQAGAAMAAAAcAPz/AQAHAAMAAAAcAP3/AQAHAAQAAAAcAP7/AQAHAAQAAAAcAP//AQAHAAQAAAAcAAAAAQAHAAQAAAAcAAEAAQAHAAQAAAAcAAIAAQAHAAQAAAAcAAQAAQAHAAUAAAAcAAMAAQAHAAQAAAAbAAQAAQAGAAUAAAAaAAQAAQAGAAUAAAAZAAQAAQAGAAUAAAAYAAQAAQAGAAUAAAAXAAQAAQAGAAUAAAAWAAQAAQAFAAUAAAAWAAMAAQAFAAQAAAAWAAIAAQAFAAQAAAAWAAAAAQABAAQAAAAWAP//AQABAAMAAAAWAP3/AQAFAAQAAAAWAP7/AQAFAAQAAAAWAPz/AQAFAAMAAAAXAP//AQABAAMAAAAYAP//AQABAAMAAAAYAAAAAQABAAQAAAAXAAAAAQABAAQAAAAGAAIAAQAGAAIAAAAFAAIAAQAGAAIAAAAEAAIAAQAGAAIAAAADAAIAAQAGAAIAAAAGAAUAAQAGAAIAAAAFAAUAAQAGAAIAAAAEAAUAAQAGAAIAAAADAAUAAQAGAAIAAAACAAMAAQAFAAEAAAACAAQAAQAFAAEAAAACAAIAAQAFAAAAAAACAAUAAQAFAAIAAAA=")
tile_set = ExtResource("1_58iae")

[node name="TileMapLayer2" type="TileMapLayer" parent="."]
texture_filter = 1
tile_map_data = PackedByteArray("AAAIAAUAAQAGAAEAAAAJAAUAAQAGAAEAAAAVAAUAAQAGAAEAAAAWAAUAAQAGAAEAAAAhAAUAAQAGAAEAAAAiAAUAAQAGAAEAAAAKAAUAAQAGAAEAAAALAAUAAQAGAAEAAAAMAAUAAQAGAAEAAAANAAUAAQAGAAEAAAAOAAUAAQAGAAEAAAAPAAUAAQAGAAEAAAAQAAUAAQAGAAEAAAARAAUAAQAGAAEAAAASAAUAAQAGAAEAAAATAAUAAQAGAAEAAAAUAAUAAQAGAAEAAAAXAAUAAQAGAAEAAAAYAAUAAQAGAAEAAAAZAAUAAQAGAAEAAAAaAAUAAQAGAAEAAAAbAAUAAQAGAAEAAAAcAAUAAQAGAAEAAAAdAAUAAQAGAAEAAAAeAAUAAQAGAAEAAAAfAAUAAQAGAAEAAAAgAAUAAQAGAAEAAAAHAAUAAQAGAAEAAAAHAAIAAQAGAAEAAAAHAAEAAQAGAAEAAAAHAAAAAQAGAAEAAAAHAP//AQAGAAEAAAAHAP7/AQAGAAEAAAAHAP3/AQAGAAEAAAAHAPz/AQAGAAEAAAAHAPv/AQAGAAEAAAAIAPv/AQAGAAEAAAAJAPv/AQAGAAEAAAAKAPv/AQAGAAEAAAALAPv/AQAGAAEAAAAMAPv/AQAGAAEAAAANAPv/AQAGAAEAAAAOAPv/AQAGAAEAAAAPAPv/AQAGAAEAAAAQAPv/AQAGAAEAAAARAPv/AQAGAAEAAAASAPv/AQAGAAEAAAATAPv/AQAGAAEAAAAUAPv/AQAGAAEAAAAVAPv/AQAGAAEAAAAWAPv/AQAGAAEAAAAXAPv/AQAGAAEAAAAjAAUAAQAGAAEAAAAjAAQAAQAGAAEAAAAjAAMAAQAGAAEAAAAjAAIAAQAGAAEAAAAjAAEAAQAGAAEAAAAjAAAAAQAGAAEAAAAjAP//AQAGAAEAAAAjAP7/AQAGAAEAAAAjAP3/AQAGAAEAAAAiAPv/AQAGAAEAAAAjAPv/AQAGAAEAAAAjAPz/AQAGAAEAAAAZAPv/AQAGAAEAAAAYAPv/AQAGAAEAAAAaAPv/AQAGAAEAAAAbAPv/AQAGAAEAAAAcAPv/AQAGAAEAAAAdAPv/AQAGAAEAAAAeAPv/AQAGAAEAAAAfAPv/AQAGAAEAAAAgAPv/AQAGAAEAAAAhAPv/AQAGAAEAAAAVAPz/AQAGAAEAAAAVAP3/AQAGAAEAAAAVAP7/AQAGAAEAAAAVAP//AQAGAAEAAAAVAAAAAQAGAAEAAAAVAAEAAQAGAAEAAAAVAAIAAQAGAAEAAAASAAAAAQACAAEAAAATAAAAAQAGAAAAAAAUAAAAAQAEAAAAAAAWAAEAAQAFAAQAAAAZAAEAAQAEAAUAAAAXAAEAAQADAAUAAAAYAAEAAQADAAUAAAAZAAAAAQAEAAQAAAAZAP//AQAEAAQAAAAZAP7/AQAEAAQAAAAiAAAAAQAEAAAAAAAhAAAAAQACAAEAAAAfAAAAAQAEAAAAAAAdAAAAAQACAAEAAAAeAAAAAQAGAAAAAAAgAPz/AQAAAAMAADAXAPz/AQAGAAMAAAAYAPz/AQAGAAMAAAAZAPz/AQAGAAMAAAAaAPz/AQAGAAMAAAAbAPz/AQAGAAMAAAAcAPz/AQAHAAMAAAAcAP3/AQAHAAQAAAAcAP7/AQAHAAQAAAAcAP//AQAHAAQAAAAcAAAAAQAHAAQAAAAcAAEAAQAHAAQAAAAcAAIAAQAHAAQAAAAcAAQAAQAHAAUAAAAcAAMAAQAHAAQAAAAbAAQAAQAGAAUAAAAaAAQAAQAGAAUAAAAZAAQAAQAGAAUAAAAYAAQAAQAGAAUAAAAXAAQAAQAGAAUAAAAWAAQAAQAFAAUAAAAWAAMAAQAFAAQAAAAWAAIAAQAFAAQAAAAWAAAAAQAFAAQAAAAWAP//AQAFAAQAAAAWAP3/AQAFAAQAAAAWAP7/AQAAAAMAAFAWAPz/AQAFAAMAAAAXAP//AQABAAMAAAAYAP//AQABAAMAAAATAPz/AQAAAAMAADA=")
tile_set = ExtResource("1_58iae")

[node name="Player" parent="." instance=ExtResource("2_gwqor")]
position = Vector2(144, 62)
chapter2 = true
max_time = 5.0

[node name="Begin" type="Node2D" parent="."]
position = Vector2(144.545, 56.63)

[node name="LaserButton" parent="." instance=ExtResource("3_jv4ki")]
position = Vector2(519, 71)
rotation = 1.5707964

[node name="End" type="Node2D" parent="."]
position = Vector2(434, 63)

[node name="Area2D" type="Area2D" parent="End"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="End/Area2D"]
position = Vector2(-375, 1)
shape = SubResource("RectangleShape2D_7yid6")

[node name="BulletSpawner" parent="." instance=ExtResource("5_mts5x")]
position = Vector2(441, 84)
rotation = -1.5707964

[node name="ButtonActivatedDoor" parent="." instance=ExtResource("4_58iae")]
position = Vector2(344, 64)

[node name="Laser" parent="." instance=ExtResource("5_gwqor")]
position = Vector2(519, -50)
rotation = 1.5707964

[node name="Laser2" parent="." instance=ExtResource("5_gwqor")]
position = Vector2(312, -53)
rotation = 1.5707964

[node name="InversionField" type="Area2D" parent="."]
script = ExtResource("6_gwqor")

[node name="CollisionShape2D" type="CollisionShape2D" parent="InversionField"]
position = Vector2(408, 8.25)
shape = SubResource("RectangleShape2D_jv4ki")

[node name="ButtonActivatedDoor2" parent="." instance=ExtResource("4_58iae")]
position = Vector2(90, 64)

[node name="ButtonActivatedDoor3" parent="." instance=ExtResource("4_58iae")]
position = Vector2(119, 64)

[node name="LaserButton2" parent="." instance=ExtResource("3_jv4ki")]
position = Vector2(312, -7)
rotation = 1.5707964

[node name="LaserButton3" parent="." instance=ExtResource("3_jv4ki")]
position = Vector2(392, -24)

[node name="Laser3" parent="." instance=ExtResource("5_gwqor")]
position = Vector2(363, -24)

[connection signal="closedoor" from="Laser2" to="ButtonActivatedDoor" method="_on_laser_closedoor"]
[connection signal="opendoor" from="Laser2" to="ButtonActivatedDoor" method="_on_laser_opendoor"]
[connection signal="closedoor" from="Laser3" to="ButtonActivatedDoor3" method="_on_laser_closedoor"]
[connection signal="opendoor" from="Laser3" to="ButtonActivatedDoor3" method="_on_laser_opendoor"]
